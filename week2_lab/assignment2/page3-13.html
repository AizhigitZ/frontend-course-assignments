<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple Complex Form</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f3f4f6;
  display: flex;
  justify-content: center;
  padding: 40px 20px;
}

form {
  background: #fff;
  padding: 30px;
  border-radius: 8px;
  width: 100%;
  max-width: 400px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

label {
  display: block;
  margin-bottom: 10px;
}

input, select {
  width: 100%;
  padding: 8px;
  margin-top: 4px;
  margin-bottom: 16px;
  border: 1px solid #d1d5db;
  border-radius: 4px;
}

button {
  padding: 10px 16px;
  background: #4f46e5;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

button:hover {
  background: #4338ca;
}

.error {
  color: red;
  font-size: 14px;
  display: none;
  margin-top: -12px;
  margin-bottom: 12px;
}
</style>
</head>
<body>

<form id="complexForm">
  <label>
    Name
    <input type="text" name="name" required>
    <div class="error">Please enter your name.</div>
  </label>

  <label>
    Email
    <input type="email" name="email" required>
    <div class="error">Please enter a valid email.</div>
  </label>

  <label>
    Birth Date
    <input type="date" name="birthdate" required>
    <div class="error">Please select your birth date.</div>
  </label>

  <label>
    Favorite Color
    <input type="color" name="color">
  </label>

  <label>
    Satisfaction
    <input type="range" name="satisfaction" min="0" max="10" value="5">
  </label>

  <label>
    Choose a plan
    <select name="plan" required>
      <option value="">Select</option>
      <option value="basic">Basic</option>
      <option value="premium">Premium</option>
      <option value="pro">Pro</option>
    </select>
    <div class="error">Please select a plan.</div>
  </label>

  <button type="submit">Submit</button>
</form>

<script>
const form = document.getElementById('complexForm');

form.addEventListener('submit', function(e){
  e.preventDefault();
  let valid = true;
  const fields = form.querySelectorAll('input, select');

  fields.forEach(field => {
    const errorDiv = field.nextElementSibling;
    if (field.hasAttribute('required') && !field.value) {
      errorDiv.style.display = 'block';
      valid = false;
    } else if (field.type === 'email' && field.value) {
      const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!regex.test(field.value)) {
        errorDiv.style.display = 'block';
        valid = false;
      } else {
        errorDiv.style.display = 'none';
      }
    } else if (errorDiv) {
      errorDiv.style.display = 'none';
    }
  });

  if(valid){
    alert('Form submitted successfully!');
    form.reset();
  }
});
</script>

</body>
</html>
